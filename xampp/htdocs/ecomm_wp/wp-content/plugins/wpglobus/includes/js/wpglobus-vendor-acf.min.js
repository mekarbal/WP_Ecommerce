jQuery(document).ready(function(s){"use strict";if("undefined"!=typeof WPGlobusAcf&&"undefined"!=typeof WPGlobusDialogApp){var a={option:{},init:function(e){a.option=s.extend(a.option,e),a.option.pro?(a.startAcf(".acf-field"),a.runActions()):(0<s(".acf_postbox .field").length&&a.startAcf(".acf_postbox .field"),0<s(".acf-postbox .acf-field").length&&a.startAcf(".acf-postbox .acf-field")),a.attachListeners()},runActions:function(){void 0!==WPGlobusAcf.actions.fixTextFields&&WPGlobusAcf.actions.fixTextFields&&a.fixTextFields()},fixTextFields:function(){s.each(WPGlobusAcf.fields,function(e,i){var t=s('input[type="text"]#'+i);if(1==t.length){var a=t.parent(".acf-input-wrap");1==a.length&&a.hasClass("acf-input-wrap")&&a.css("height","auto")}})},isDisabledField:function(t){var a=!1,n=s("#"+t).parents(".acf-field").attr("id");return void 0!==n&&s.each(WPGlobusAcf.disabledFields,function(e,i){i==n&&(a=!0)}),a||(s.each(WPGlobusAcf.disabledFields,function(e,i){i==t&&(a=!0)}),a)},startAcf:function(e){s(".acf_postbox").parents("#postbox-container-2").length,s(e).each(function(){var e,i,t=s(this);if(t.hasClass("field_type-textarea")||t.hasClass("acf-field-textarea")){if(e=t.find("textarea").attr("id"),a.registerField(e),a.isDisabledField(e))return!0;i=s("#"+e).height()+20,WPGlobusDialogApp.addElement({id:e,dialogTitle:"Edit ACF field",style:"width:97%;float:left;",styleTextareaWrapper:"height:"+i+"px;",sbTitle:"Click for edit",onChangeClass:"wpglobus-on-change-acf-field"})}else if(t.hasClass("field_type-text")||t.hasClass("acf-field-text")){if(e=t.find("input").attr("id"),a.registerField(e),a.isDisabledField(e))return!0;WPGlobusDialogApp.addElement({id:e,dialogTitle:"Edit ACF field",style:"width:97%;float:left;",sbTitle:"Click for edit",onChangeClass:"wpglobus-on-change-acf-field"})}})},registerField:function(e,i){var t=!1;return void 0!==e&&-1==e.indexOf("acfcloneindex")&&(a.isRegisteredField(e)||(t=!0,WPGlobusAcf.fields.push(e))),!!t&&e},getFields:function(){return WPGlobusAcf.fields},getDisabledFields:function(){return WPGlobusAcf.disabledFields},isRegisteredField:function(i){var t=!1;return a.getFields().forEach(function(e){if(e==i)return!(t=!0)}),t},attachListeners:function(){if(a.option.pro){var i=this;acf.add_action&&acf.add_action("append",function(e){i.replaceCloneIndex(e)})}},replaceCloneIndex:function(e){var i=e.data("id");e.find('[data-source-id*="acfcloneindex"]').each(function(){s(this).attr("data-source-id",s(this).attr("data-source-id").replace("acfcloneindex",i))})}};WPGlobusAcf=s.extend({},WPGlobusAcf,a),WPGlobusAcf.init({pro:WPGlobusAcf.pro})}});